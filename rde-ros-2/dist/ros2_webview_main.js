const e=acquireVsCodeApi();var t;!function(t){function n(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function o(e,t,n){let o=document.createElement("table"),a=document.createElement("thead"),d=document.createElement("tr");t.forEach(((e,t)=>{let n=document.createElement("th");n.appendChild(document.createTextNode(e)),d.appendChild(n)})),a.appendChild(d),o.appendChild(a);let m=document.createElement("tbody");for(const o in e){const a=e[o],d=document.createElement("tr");t.forEach(((e,t)=>{let o=document.createElement("td");o.appendChild(document.createTextNode(n(a,t))),d.appendChild(o)})),m.appendChild(d)}return o.appendChild(m),o}t.initializeRos2Monitor=function(){const t=document.getElementById("daemon-toggle-btn"),a=document.getElementById("daemon-status-message");let d=!1;t.addEventListener("click",(()=>{d?(a.textContent="Stopping daemon...",e.postMessage({command:"stopDaemon"})):(a.textContent="Starting daemon...",e.postMessage({command:"startDaemon"}))})),window.addEventListener("message",(e=>{const t=e.data;if(t.daemonAction){const e=document.getElementById("daemon-toggle-btn"),n=document.getElementById("daemon-status-message");switch(t.daemonAction){case"starting":case"stopping":n.textContent=t.message,setTimeout((()=>{n.textContent=""}),5e3);break;case"started":case"stopped":case"error":n.textContent=t.message,d=t.isRunning,e.disabled=!1,e.textContent=d?"Stop Daemon":"Start Daemon",e.className=d?"menu-button stop":"menu-button",setTimeout((()=>{n.textContent=""}),5e3)}return}const a=document.getElementById("topics"),m=document.getElementById("services");if(n(a),n(m),t.ready){if("boolean"==typeof t.isDaemonRunning){d=t.isDaemonRunning;const e=document.getElementById("daemon-toggle-btn");e.textContent=d?"Stop Daemon":"Start Daemon",e.className=d?"menu-button stop":"menu-button"}const e=JSON.parse(t.nodes),n=JSON.parse(t.topics),s=JSON.parse(t.services),c=document.createElement("h2");c.appendChild(document.createTextNode("Nodes")),a.appendChild(c),a.appendChild(o(e,["Name"],((e,t)=>`${e[1]}${e[0]}`)));const i=document.createElement("h2");i.appendChild(document.createTextNode("Topics")),a.appendChild(i),a.appendChild(o(n,["Name","Type"],((e,t)=>e[t])));const p=document.createElement("h2");p.appendChild(document.createTextNode("Services")),m.appendChild(p),m.appendChild(o(s,["Name","Type"],((e,t)=>e[t])))}else if("boolean"==typeof t.isDaemonRunning){d=t.isDaemonRunning;const e=document.getElementById("daemon-toggle-btn");e.textContent=d?"Stop Daemon":"Start Daemon",e.className=d?"menu-button stop":"menu-button"}}))}}(t||(t={})),window.onload=()=>t.initializeRos2Monitor();